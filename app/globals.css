@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400 900;
  font-display: swap;
  src: url('/fonts/inter-400-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400 900;
  font-display: swap;
  src: url('/fonts/inter-400-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Playfair Display';
  font-style: normal;
  font-weight: 400 700;
  font-display: swap;
  src: url('/fonts/playfair-normal-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Playfair Display';
  font-style: normal;
  font-weight: 400 700;
  font-display: swap;
  src: url('/fonts/playfair-normal-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Playfair Display';
  font-style: italic;
  font-weight: 400 700;
  font-display: swap;
  src: url('/fonts/playfair-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Playfair Display';
  font-style: italic;
  font-weight: 400 700;
  font-display: swap;
  src: url('/fonts/playfair-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* Prevent mobile menu from showing before JavaScript loads */
.mobile-menu-hidden {
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Force dialog centering - fixes popup off-center issue */
[role="dialog"][data-state] {
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
}

/* Backup selector for dialog centering */
[data-state="open"][role="dialog"],
[data-state="closed"][role="dialog"] {
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
}

:root {
  /* Bold Industrial Editorial - High Contrast Magazine Palette */
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(30, 6%, 10%);
  
  /* Warm Stone backgrounds */
  --muted: hsl(30, 10%, 96%);
  --muted-foreground: hsl(30, 5%, 40%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(30, 6%, 10%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(30, 6%, 10%);
  
  /* Golden Yellow - #EAB308 */
  --primary: hsl(48, 96%, 53%);
  --primary-foreground: hsl(30, 6%, 10%);
  
  /* Dark Charcoal - #1A1918 */
  --secondary: hsl(30, 6%, 10%);
  --secondary-foreground: hsl(0, 0%, 98%);
  
  /* Accent Golden Yellow */
  --accent: hsl(48, 96%, 53%);
  --accent-foreground: hsl(30, 6%, 10%);
  
  /* Deep Red for problems */
  --destructive: hsl(0, 72%, 45%);
  --destructive-foreground: hsl(0, 0%, 98%);
  
  /* Stone warm colors */
  --stone-50: hsl(30, 20%, 98%);
  --stone-100: hsl(30, 15%, 96%);
  --stone-200: hsl(30, 10%, 90%);
  
  /* Industrial borders and inputs */
  --border: hsl(30, 6%, 10%);
  --input: hsl(30, 10%, 90%);
  --ring: hsl(48, 96%, 53%);
  --radius: 0.125rem;
  
  /* Offset shadow for tactile buttons */
  --shadow-offset: 4px 4px 0px 0px hsl(30, 6%, 10%);
  --shadow-offset-sm: 2px 2px 0px 0px hsl(30, 6%, 10%);
  --shadow-offset-yellow: 4px 4px 0px 0px hsl(48, 96%, 53%);
  
  /* Editorial typography scale */
  --font-display: 'Inter', system-ui, sans-serif;
  --font-serif: 'Playfair Display', Georgia, serif;
  --font-body: 'Inter', system-ui, sans-serif;
}

.dark {
  --background: hsl(30, 6%, 10%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(30, 6%, 15%);
  --muted-foreground: hsl(30, 5%, 65%);
  --popover: hsl(30, 6%, 10%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(30, 6%, 12%);
  --card-foreground: hsl(0, 0%, 98%);
  --primary: hsl(48, 96%, 53%);
  --primary-foreground: hsl(30, 6%, 10%);
  --secondary: hsl(0, 0%, 95%);
  --secondary-foreground: hsl(30, 6%, 10%);
  --accent: hsl(48, 96%, 58%);
  --accent-foreground: hsl(30, 6%, 10%);
  --destructive: hsl(0, 62%, 50%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(48, 96%, 53%);
  --shadow-offset: 4px 4px 0px 0px hsl(48, 96%, 53%);
  --shadow-offset-sm: 2px 2px 0px 0px hsl(48, 96%, 53%);
}

@layer base {
  * {
    @apply border-border;
  }

  html, body {
    margin: 0;
    padding: 0;
  }
  
  html {
    overflow-x: hidden;
    height: 100%;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    font-feature-settings: "liga" on, "calt" on;
    -webkit-font-feature-settings: "liga" on, "calt" on;
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-body);
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    min-height: 100vh;
    position: relative;
    overscroll-behavior: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-display: swap;
  }
  
  /* iOS Safari and mobile scrolling fixes */
  @media (max-width: 768px) {
    html {
      overflow-x: hidden;
      overflow-y: auto;
      height: auto;
      min-height: 100%;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: auto;
    }
    
    body {
      overflow-x: hidden;
      overflow-y: auto;
      position: static;
      min-height: auto;
      height: auto;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: auto;
      -webkit-text-size-adjust: 100%;
    }
    
    #root {
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
    }
  }

  /* Ensure navigation stays fixed at top - below dialogs/modals */
  .navigation-header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 100 !important;
    contain: none !important;
    isolation: isolate !important;
    will-change: transform, background-color !important;
    transform: translateZ(0) !important;
    margin: 0 !important;
    backface-visibility: hidden !important;
  }
  
  nav, nav * {
    contain: none !important;
  }
  
  .navigation-header,
  nav.navigation-header {
    position: fixed !important;
    transform: translateZ(0) !important;
    clip: auto !important;
    z-index: 100 !important;
  }
  
  body > div,
  #root,
  .min-h-screen {
    overflow: visible !important;
    transform: none !important;
    will-change: auto !important;
  }
  
  body,
  #root {
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
    
    .animate-in {
      animation: none !important;
      transition: none !important;
    }
  }
}

@layer utilities {
  /* Bold Industrial Typography */
  .font-display {
    font-family: var(--font-display);
    font-weight: 900;
    letter-spacing: -0.02em;
  }
  
  .font-serif {
    font-family: var(--font-serif);
  }
  
  .font-body {
    font-family: var(--font-body);
  }
  
  /* Industrial Headlines - Massive Scale */
  .headline-xl {
    font-family: var(--font-display);
    font-weight: 900;
    font-size: clamp(2.1rem, 5.5vw, 3.8rem);
    line-height: 0.95;
    letter-spacing: -0.03em;
    text-transform: uppercase;
  }
  
  .headline-lg {
    font-family: var(--font-display);
    font-weight: 900;
    font-size: clamp(2.5rem, 6vw, 5rem);
    line-height: 0.95;
    letter-spacing: -0.02em;
    text-transform: uppercase;
  }
  
  .headline-md {
    font-family: var(--font-display);
    font-weight: 800;
    font-size: clamp(1.75rem, 4vw, 3rem);
    line-height: 1;
    letter-spacing: -0.02em;
    text-transform: uppercase;
  }
  
  /* Editorial Serif for narrative text */
  .text-editorial {
    font-family: var(--font-serif);
    font-size: 1.25rem;
    line-height: 1.6;
    font-style: italic;
  }
  
  .text-editorial-lg {
    font-family: var(--font-serif);
    font-size: clamp(1.25rem, 2vw, 1.75rem);
    line-height: 1.5;
  }
  
  /* UI Label Style - Uppercase with wide tracking */
  .label-industrial {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 0.75rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }
  
  /* Offset Shadow Utilities - Tactile Feel */
  .shadow-offset {
    box-shadow: var(--shadow-offset);
  }
  
  .shadow-offset-sm {
    box-shadow: var(--shadow-offset-sm);
  }
  
  .shadow-offset-yellow {
    box-shadow: var(--shadow-offset-yellow);
  }
  
  /* Hover press effect */
  .hover-press {
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }
  
  .hover-press:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px 0px hsl(30, 6%, 10%);
  }
  
  .hover-press:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px 0px hsl(30, 6%, 10%);
  }
  
  /* Industrial Borders */
  .border-industrial {
    border: 2px solid hsl(30, 6%, 10%);
  }
  
  .border-industrial-3 {
    border: 3px solid hsl(30, 6%, 10%);
  }
  
  /* Bento Grid Card */
  .bento-card {
    background: white;
    border: 2px solid hsl(30, 6%, 10%);
    box-shadow: var(--shadow-offset);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .bento-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0px 0px hsl(30, 6%, 10%);
  }
  
  /* Section Bands */
  .band-white {
    background-color: white;
  }
  
  .band-dark {
    background-color: hsl(30, 6%, 10%);
    color: white;
  }
  
  .band-yellow {
    background-color: hsl(48, 96%, 53%);
    color: hsl(30, 6%, 10%);
  }
  
  .band-stone {
    background-color: hsl(30, 20%, 98%);
  }
  
  /* Vintage Texture Effects */
  .texture-noise {
    position: relative;
  }
  
  .texture-noise::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    opacity: 0.4;
  }
  
  /* Amber highlight/shine effect */
  .shine-yellow {
    position: relative;
  }
  
  .shine-yellow::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 0.35em;
    background-color: hsl(48, 96%, 53%);
    z-index: -1;
    transform: skewX(-3deg);
  }
  
  /* Stamp/Badge Effect */
  .stamp {
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 3px solid currentColor;
    font-family: var(--font-display);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    transform: rotate(-3deg);
  }
  
  .stamp-approved {
    color: hsl(120, 60%, 35%);
    border-color: hsl(120, 60%, 35%);
  }
  
  .stamp-certified {
    color: hsl(48, 96%, 45%);
    border-color: hsl(48, 96%, 45%);
  }
  
  /* Gradient text with golden yellow */
  .gradient-text {
    background: linear-gradient(135deg, hsl(48, 96%, 53%) 0%, hsl(45, 90%, 45%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Staggered reveal animations */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-slide-up {
    animation: slideUp 0.6s ease-out forwards;
    opacity: 0;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }
  
  /* Performance optimizations */
  .will-change-transform { will-change: transform; }
  .will-change-opacity { will-change: opacity; }
  .gpu-accelerated { transform: translateZ(0); backface-visibility: hidden; }
  .contain-layout { contain: layout; }
  .contain-paint { contain: paint; }
  .content-visibility-auto { content-visibility: auto; }
}

/* Additional keyframes for animations */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Wave animation for hand emoji */
.wave-on-scroll {
  animation: wave 1s ease-in-out;
  transform-origin: 70% 70%;
}

@keyframes wave {
  0%, 100% { transform: rotate(0deg); }
  10%, 30%, 50%, 70%, 90% { transform: rotate(14deg); }
  20%, 40%, 60%, 80% { transform: rotate(-14deg); }
}

/* Rotating text animation */
.rotating-text {
  display: inline-block;
  animation: textSlideInFromBottom 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
}

@keyframes textSlideInFromBottom {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.8);
  }
  50% {
    opacity: 0.7;
    transform: translateY(-5px) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
